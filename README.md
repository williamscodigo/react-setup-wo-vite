# React App Setup Without Build Tools (vite or create-react-app)

## Description 
The purpose of this simple step-by-step React app setup proccess is to help developers have a better understanding of what happends when we write in our terminal __npx create-react-app my-react-app__ or __npm create vite@latest my-react-app --template react__. (Note: Create React App under the hood uses webpack and babel, Vite under the hood uses ESBuild and Rollup)

Follow these steps to create a React app without using tools like Vite or Create React App.

## 0. Set Up Project Structure

Initial File Structure:
```perl
my-react-app/
├── public/                  # Public folder (for static assets)
│   └── index.html           # Main HTML file that includes the root div
├── src/                     # Source folder for app code
│   ├── index.js             # Main entry point for React app
│   └── style.css            # Optional CSS file for styling
```

File Structure after steps below:
```perl
my-react-app/
├── dist/                    # Output folder for Webpack bundled files
│   └── bundle.js            # Bundled JavaScript file
├── node_modules/            # Node.js modules (auto-generated by npm)
├── public/                  # Public folder (for static assets)
│   └── index.html           # Main HTML file that includes the root div and bundle.js
├── src/                     # Source folder for app code
│   ├── index.js             # Main entry point for React app
│   └── style.css            # Optional CSS file for styling
├── .babelrc                 # Babel configuration
├── package.json             # Project metadata and npm scripts
├── webpack.config.js        # Webpack configuration
└── package-lock.json        # Auto-generated file for package versions (by npm)
```

## 1. Initialize empty project
```bash
    # Step 1: Create a folder named "my-react-app"
    mkdir my-react-app

    # Step 2: Switch to the "my-react-app" folder
    cd my-react-app

    # Step 3: Initialize a new Node.js project with a package.json file
    npm init -y
```

## 2. Install React and ReactDOM
```bash
    npm install react react-dom
```

## 3. Install Webpack and related dependencies
Now, install Webpack, Webpack CLI, and other necessary packages for bundling your app.
```bash
    npm install --save-dev webpack webpack-cli webpack-dev-server
```

## 4. Install Babel for JSX and ES6+ transpilation
To work with modern JavaScript features and JSX, install Babel.
```bash
    npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-loader
```

- Above packages description:
    - **@babel/core**: This is the core library of Babel, which provides the core API for Babel to transform code. It works alongside Babel presets (e.g., @babel/preset-react, @babel/preset-env) to understand and transpile modern JavaScript and JSX syntax into browser-compatible code.
    - **@babel/preset-react**: Transforms JSX into JavaScript.
    - **@babel/preset-env**: Converts modern JavaScript into a version compatible with older browsers.
    - **babel-loader**: A webpack loader that integrates Babel with webpack, enabling the transpiling of JavaScript (or TypeScript) files during the build process.
- The jsx transpilation look like the following:
```
    - jsx: const Heading = () => <h1>Hello World!</h1>;
    - js:  const Heading = () => React.createElement("h1", null, "Hello World!");
```

## 5. Install CSS and Style loaders
If you're going to use CSS (which you probably will), install the necessary loaders.
```bash
    npm install --save-dev style-loader css-loader
```

## 6. Ensure index.html is served correctly
Webpack by default doesn't handle serving static HTML files (like __index.html__). To ensure your React app is properly served, you need to set up __html-webpack-plugin__ to automatically inject the __bundle.js__ script into the __index.html__ and handle the __index.html__ for you.
```bash
    npm install --save-dev html-webpack-plugin
```

## 6. Set up Webpack configuration
In your project root, create a __webpack.config.js__ file. This file will configure Webpack to bundle your React app.
```js
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',  // Main entry point for your app
  output: {
    path: path.resolve(__dirname, 'dist'),  // Output folder
    filename: 'bundle.js',  // Output file name
  },
  mode: 'development',  // Set mode to development or production
  module: {
    rules: [
      {
        test: /\.js$/,  // Use Babel for JavaScript files
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
        },
      },
      {
        test: /\.css$/,  // Use style and css loaders for CSS
        use: ['style-loader', 'css-loader'],
      },
    ],
  },
  devServer: {
    static: {
      directory: path.join(__dirname, 'dist'),  // Serve static files from the 'dist' folder
    },
    port: 3000,
    hot: true,
    open: true,  // Open the browser automatically
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: path.resolve(__dirname, 'public', 'index.html'),  // Path to your template HTML
      filename: 'index.html',  // Name of the output HTML file
    }),
  ],
};

```

## 7. Configure Babel
Create a __.babelrc__ file in your project root to specify Babel's configuration.
This configures Babel to transpile ES6+ code and JSX into compatible JavaScript.
```json
{
  "presets": ["@babel/preset-env", "@babel/preset-react"]
}

```

## 8. Create your React app files
Create the basic file structure for your app. You need at least an index.html and a React entry point.

(src folder)
```js
import React from 'react';
import ReactDOM from 'react-dom/client';  // Import from 'react-dom/client'
import './style.css';

function App() {
  return <h1>Hello, React!</h1>;
}

// For React 18 and later, use 'createRoot'
const root = ReactDOM.createRoot(document.getElementById('root'));  // 'root' is the id of the div in index.html
root.render(<App />);

```

(src folder)
```css
body {
  font-family: 'Roboto', sans-serif;
  background-color: darkcyan;
  color: #f5f5f5;
}
```

(public folder)
```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React App</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- This file serves as template - The Webpack output is injected for new index.html file (dist) -->
  </body>
</html>

```

## 9. Add npm scripts
In your package.json, add scripts for building and running your app.
```json
{
  "scripts": {
    "start": "webpack serve --open",  // Run Webpack dev server
    "build": "webpack --mode production"  // Build app for production
  }
}

```

## 10. Build for production
Once you're ready to deploy, you can build your app with:
This will create a dist folder containing the bundled files for production.
```bash
    npm run build
```

## 11. Run the development server
Now, you can start the development server with the following command:
This will open your app in the browser at http://localhost:3000.
```bash
    npm start
```

- This setup gives you a basic React app using Webpack, Babel, and the necessary loaders. You can extend this setup by adding additional features like CSS preprocessors, asset bundling, React Hot Loader, and more, depending on your needs.


OTHER NOTES: 

File Extension: .js vs. .jsx

- .jsx: It's a convention to use .jsx for files containing JSX syntax, but it's not required. Babel will transpile JSX regardless of the file extension as long as it's configured correctly.

- You can continue using .js for simplicity if you're not working with many files, or switch to .jsx for clarity.

## Questions
GitHub Link: [https://github.com/williamscodigo](https://github.com/williamscodigo)